!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).stargateBifrostClient=e()}(this,(function(){"use strict";const t="x-target-region",e=({href:t})=>{const{pathname:e,search:r,hash:n}=new URL(t),o=new URLSearchParams(r);return o.set("__override_layout__","embed"),o.set("bifrost","true"),`${e}?${o}${n}`},r=new RegExp("^(?:[a-z]+:)?//","i"),n=t=>{try{return new URL(t,window.location.href).hostname.endsWith(".twilio.com")}catch(e){return!r.test(t)}},o=e=>{let r;try{r=new URL(e).searchParams}catch(t){const[,n]=e.split("?");n&&(r=new URLSearchParams(n))}return!!r&&r.has(t)},a=e=>{let r;try{r=new URL(e).searchParams}catch(t){const[,n]=e.split("?");n&&(r=new URLSearchParams(n))}return r?r.get(t):"us1"},s=({target:t,type:e,payload:r={},targetOrigin:n="*"})=>t.postMessage({type:e,payload:r},n),i=({target:t,host:r,href:n,currentFrameUrl:o=!1})=>{(({host:t,href:e})=>{const{pathname:r,host:n}=new URL(e);return n===t&&r.startsWith("/console")})({host:r,href:n})?o?(({target:t,path:e})=>{s({target:t,type:"updateCurrentFrameUrl",payload:{path:e}})})({target:t,path:e({href:n})}):(({target:t,path:e})=>{s({target:t,type:"updateFrameUrl",payload:{path:e}})})({target:t,path:e({href:n})}):(({target:t,location:e})=>{s({target:t,type:"updateUrl",payload:{location:e}})})({target:t,location:n})};var u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var c=/<%=([\s\S]+?)%>/g,h=/[&<>"']/g,l=RegExp(h.source),f="object"==typeof u&&u&&u.Object===Object&&u,p="object"==typeof self&&self&&self.Object===Object&&self,d=f||p||Function("return this")();var y,m=(y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(t){return null==y?void 0:y[t]}),b=Object.prototype,v=b.hasOwnProperty,g=b.toString,w=d.Symbol,_=w?w.toStringTag:void 0,j=w?w.prototype:void 0,A=j?j.toString:void 0,O={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:c,variable:"",imports:{_:{escape:function(t){return(t=U(t))&&l.test(t)?t.replace(h,m):t}}}};function E(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":_&&_ in Object(t)?function(t){var e=v.call(t,_),r=t[_];try{t[_]=void 0;var n=!0}catch(t){}var o=g.call(t);n&&(e?t[_]=r:delete t[_]);return o}(t):function(t){return g.call(t)}(t)}function x(t){if("string"==typeof t)return t;if(R(t))return function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}(t,x)+"";if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==E(t)}(t))return A?A.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}var R=Array.isArray;function U(t){return null==t?"":x(t)}var S=O,T=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){var r=/\b__p \+= '';/g,n=/\b(__p \+=) '' \+/g,o=/(__e\(.*?\)|\b__t\)) \+\n'';/g,a=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,s=/^\[object .+?Constructor\]$/,i=/^(?:0|[1-9]\d*)$/,h=/($^)/,l=/['\n\r\u2028\u2029\\]/g,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1;var p={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},d="object"==typeof u&&u&&u.Object===Object&&u,y="object"==typeof self&&self&&self.Object===Object&&self,m=d||y||Function("return this")(),b=e&&!e.nodeType&&e,v=b&&t&&!t.nodeType&&t,g=v&&v.exports===b,w=g&&d.process,_=function(){try{var t=v&&v.require&&v.require("util").types;return t||w&&w.binding&&w.binding("util")}catch(t){}}(),j=_&&_.isTypedArray;function A(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function O(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}function E(t){return"\\"+p[t]}function x(t,e){return function(r){return t(e(r))}}var R,U=Function.prototype,T=Object.prototype,L=m["__core-js_shared__"],P=U.toString,I=T.hasOwnProperty,q=(R=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",C=T.toString,B=P.call(Object),F=RegExp("^"+P.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=g?m.Buffer:void 0,H=m.Symbol,D=x(Object.getPrototypeOf,Object),$=T.propertyIsEnumerable,k=H?H.toStringTag:void 0,M=function(){try{var t=function(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){if(!wt(t)||function(t){return!!q&&q in t}(t))return!1;return(vt(t)?F:s).test(function(t){if(null!=t){try{return P.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}(r)?r:void 0}(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),X=N?N.isBuffer:void 0,V=x(Object.keys,Object),G=Math.max,K=Date.now,W=H?H.prototype:void 0,z=W?W.toString:void 0;function Z(t,e){var r=dt(t),n=!r&&pt(t),o=!r&&!n&&mt(t),a=!r&&!n&&!o&&jt(t),s=r||n||o||a,i=s?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=i.length;for(var c in t)!e&&!I.call(t,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||at(c,u))||i.push(c);return i}function J(t,e,r){var n=t[e];I.call(t,e)&&ft(n,r)&&(void 0!==r||e in t)||Q(t,e,r)}function Q(t,e,r){"__proto__"==e&&M?M(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Y(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":k&&k in Object(t)?function(t){var e=I.call(t,k),r=t[k];try{t[k]=void 0;var n=!0}catch(t){}var o=C.call(t);n&&(e?t[k]=r:delete t[k]);return o}(t):function(t){return C.call(t)}(t)}function tt(t){return _t(t)&&"[object Arguments]"==Y(t)}function et(t){if(!wt(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=it(t),r=[];for(var n in t)("constructor"!=n||!e&&I.call(t,n))&&r.push(n);return r}function rt(t,e){return lt(function(t,e,r){return e=G(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,a=G(n.length-e,0),s=Array(a);++o<a;)s[o]=n[e+o];o=-1;for(var i=Array(e+1);++o<e;)i[o]=n[o];return i[e]=r(s),A(t,this,i)}}(t,e,Rt),t+"")}function nt(t){if("string"==typeof t)return t;if(dt(t))return O(t,nt)+"";if(function(t){return"symbol"==typeof t||_t(t)&&"[object Symbol]"==Y(t)}(t))return z?z.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ot(t,e,r,n){return void 0===t||ft(t,T[r])&&!I.call(n,r)?e:t}function at(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&i.test(t))&&t>-1&&t%1==0&&t<e}function st(t,e,r){if(!wt(r))return!1;var n=typeof e;return!!("number"==n?yt(r)&&at(e,r.length):"string"==n&&e in r)&&ft(r[e],t)}function it(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||T)}var ut,ct,ht,lt=(ut=M?function(t,e){return M(t,"toString",{configurable:!0,enumerable:!1,value:(r=e,function(){return r}),writable:!0});var r}:Rt,ct=0,ht=0,function(){var t=K(),e=16-(t-ht);if(ht=t,e>0){if(++ct>=800)return arguments[0]}else ct=0;return ut.apply(void 0,arguments)});function ft(t,e){return t===e||t!=t&&e!=e}var pt=tt(function(){return arguments}())?tt:function(t){return _t(t)&&I.call(t,"callee")&&!$.call(t,"callee")},dt=Array.isArray;function yt(t){return null!=t&&gt(t.length)&&!vt(t)}var mt=X||function(){return!1};function bt(t){if(!_t(t))return!1;var e=Y(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!function(t){if(!_t(t)||"[object Object]"!=Y(t))return!1;var e=D(t);if(null===e)return!0;var r=I.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&P.call(r)==B}(t)}function vt(t){if(!wt(t))return!1;var e=Y(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function gt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function wt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function _t(t){return null!=t&&"object"==typeof t}var jt=j?function(t){return function(e){return t(e)}}(j):function(t){return _t(t)&&gt(t.length)&&!!f[Y(t)]};var At,Ot=(At=function(t,e,r,n){!function(t,e,r,n){var o=!r;r||(r={});for(var a=-1,s=e.length;++a<s;){var i=e[a],u=n?n(r[i],t[i],i,r,t):void 0;void 0===u&&(u=t[i]),o?Q(r,i,u):J(r,i,u)}}(e,function(t){return yt(t)?Z(t,!0):et(t)}(e),t,n)},rt((function(t,e){var r=-1,n=e.length,o=n>1?e[n-1]:void 0,a=n>2?e[2]:void 0;for(o=At.length>3&&"function"==typeof o?(n--,o):void 0,a&&st(e[0],e[1],a)&&(o=n<3?void 0:o,n=1),t=Object(t);++r<n;){var s=e[r];s&&At(t,s,r,o)}return t})));function Et(t){return yt(t)?Z(t):function(t){if(!it(t))return V(t);var e=[];for(var r in Object(t))I.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}var xt=rt((function(t,e){try{return A(t,void 0,e)}catch(t){return bt(t)?t:new Error(t)}}));function Rt(t){return t}t.exports=function(t,e,s){var i,u=S.imports._.templateSettings||S;s&&st(t,e,s)&&(e=void 0),t=null==(i=t)?"":nt(i),e=Ot({},e,u,ot);var f,p,d=Ot({},e.imports,u.imports,ot),y=Et(d),m=function(t,e){return O(e,(function(e){return t[e]}))}(d,y),b=0,v=e.interpolate||h,g="__p += '",w=RegExp((e.escape||h).source+"|"+v.source+"|"+(v===c?a:h).source+"|"+(e.evaluate||h).source+"|$","g"),_=I.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/[\r\n]/g," ")+"\n":"";t.replace(w,(function(e,r,n,o,a,s){return n||(n=o),g+=t.slice(b,s).replace(l,E),r&&(f=!0,g+="' +\n__e("+r+") +\n'"),a&&(p=!0,g+="';\n"+a+";\n__p += '"),n&&(g+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),b=s+e.length,e})),g+="';\n";var j=I.call(e,"variable")&&e.variable;j||(g="with (obj) {\n"+g+"\n}\n"),g=(p?g.replace(r,""):g).replace(n,"$1").replace(o,"$1;"),g="function("+(j||"obj")+") {\n"+(j?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(p?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+g+"return __p\n}";var A=xt((function(){return Function(y,_+"return "+g).apply(void 0,m)}));if(A.source=g,bt(A))throw A;return A}}));const L=(t,e)=>{let r=((t,e=null)=>t?new RegExp(t,"gi"):new RegExp(e+"$","gi"))(t);return!!e.match(r)},P=({scope:t,templateData:e})=>{let r;if(!t.__consoleNavigationData||0===Object.keys(t.__consoleNavigationData).length)throw new Error("consoleNavigationData was not defined on the window object.");r=t.__consoleNavigationData;const n=t.location.pathname,o=r.href.split("/"),a=r.sections.find(t=>L(t.routeMatch,n)),s=a.links.reduce((t,r)=>{const o=r.href.match(/\${(.*?)\}/);t.serviceSid=e[o&&o[1]],t.serviceName=T(r.label)(e);const a=r.children.reduce((r,o)=>(L(o.routeMatch,n)&&(t.selectedItem=o.routeName),r.push({title:o.label,key:o.routeName,frameUrl:T(o.href)(e),routeMatch:o.routeMatch}),r),[]);return t.items=t.items.concat(a),t},{items:[],selectedItem:null,serviceName:"",serviceSid:null}),i=o[o.length-1];return{serviceTitle:s.serviceName,serviceSid:s.serviceSid,backUrl:a.backHref,items:s.items,selectedKey:s.selectedItem,productKey:i,type:"sidebar///SET_SERVICE_NAVIGATION"}},I=({scope:t,historyScope:e,type:r})=>{const n=e[r];return function(){const e=n.apply(this,arguments),o=new Event(r);return o.arguments=arguments,t.dispatchEvent(o),e}},q=t=>{let e=t.target,r=e&&e.href;!r&&e&&e.parentElement&&e.parentElement.href&&(r=e.parentElement.href,e=e.parentElement),e&&(({target:t,event:e})=>{s({target:t,type:"genericClickEvent",payload:{nodeName:e.target.nodeName}})})({target:window.parent,event:t});const n=r===document.location.href+"#"||"#"===r||r&&r.includes("#")&&r.length>r.indexOf("#")+1;if(r&&!n&&e&&"A"==e.nodeName){if(e.dataset&&"modal"===e.dataset.toggle)return;if(e.dataset&&"true"===e.dataset.ignorebifrost)return;if(e.download||["csv","export"].some(t=>e.className.includes(t)))return;if((t=>!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey))(t))return;if(t.preventDefault(),e.className.includes("switch-account")){const t=e.dataset.sid;(({target:t,accountSid:e})=>{s({target:t,type:"reduxAction",payload:{accountSid:e,type:"masthead///SET_CURRENT_ACCOUNT"}})})({target:window.parent,accountSid:t})}return"_blank"===e.target?window.open(r,"_blank","noreferrer"):"modal"===e.dataset.push?i({target:window.parent,host:location.host,href:r,currentFrameUrl:!0}):i({target:window.parent,host:location.host,href:r}),!1}},C=({name:t,value:e,form:r})=>{const n=document.createElement("input");n.type="hidden",n.name=t,n.value=e,r.appendChild(n)},B=e=>{try{if("form"===e.target.nodeName.toLowerCase()&&n(e.target.action)){const r=e.target;"get"!==e.target.method.toLowerCase()||e.defaultPrevented||C({name:"__override_layout__",value:"embed",form:r}),(e=>{const r=[...e.elements].reduce((t,e)=>(t[e.name]={value:e.value,element:e},t),{}),n=new URLSearchParams(window.location.search).get(t);r[t]||"global"===(n||"").toLowerCase()?"global"===r[t].value.toLowerCase()&&e.removeChild(r[t].element):C({name:t,value:n||"us1",form:e})})(r)}}catch(t){}};
/*! https://mths.be/punycode v1.4.1 by @mathias */
var F=/[^\x20-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,H={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=Math.floor,k=String.fromCharCode;function M(t){throw new RangeError(H[t])}function X(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function V(t,e,r){var n=0;for(t=r?D(t/700):t>>1,t+=D(t/e);t>455;n+=36)t=D(t/35);return D(n+36*t/(t+38))}function G(t){return function(t,e){var r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]);var o=function(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}((t=t.replace(N,".")).split("."),e).join(".");return n+o}(t,(function(t){return F.test(t)?"xn--"+function(t){var e,r,n,o,a,s,i,u,c,h,l,f,p,d,y,m=[];for(f=(t=function(t){for(var e,r,n=[],o=0,a=t.length;o<a;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<a?56320==(64512&(r=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--):n.push(e);return n}(t)).length,e=128,r=0,a=72,s=0;s<f;++s)(l=t[s])<128&&m.push(k(l));for(n=o=m.length,o&&m.push("-");n<f;){for(i=2147483647,s=0;s<f;++s)(l=t[s])>=e&&l<i&&(i=l);for(i-e>D((2147483647-r)/(p=n+1))&&M("overflow"),r+=(i-e)*p,e=i,s=0;s<f;++s)if((l=t[s])<e&&++r>2147483647&&M("overflow"),l==e){for(u=r,c=36;!(u<(h=c<=a?1:c>=a+26?26:c-a));c+=36)y=u-h,d=36-h,m.push(k(X(h+y%d,0))),u=D(y/d);m.push(k(X(u,0))),a=V(r,p,n==o),r=0,++n}++r,++e}return m.join("")}(t):t}))}function K(t){return null===t}function W(t){return"string"==typeof t}function z(t){return"object"==typeof t&&null!==t}function Z(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var J=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function Q(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}function Y(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var tt=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e};function et(t,e,r,n){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var i=t.length;s>0&&i>s&&(i=s);for(var u=0;u<i;++u){var c,h,l,f,p=t[u].replace(a,"%20"),d=p.indexOf(r);d>=0?(c=p.substr(0,d),h=p.substr(d+1)):(c=p,h=""),l=decodeURIComponent(c),f=decodeURIComponent(h),Z(o,l)?J(o[l])?o[l].push(f):o[l]=[o[l],f]:o[l]=f}return o}var rt={parse:mt,resolve:function(t,e){return mt(t,!1,!0).resolve(e)},resolveObject:function(t,e){return t?mt(t,!1,!0).resolveObject(e):e},format:function(t){W(t)&&(t=bt({},t));return vt(t)},Url:nt};function nt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var ot=/^([a-z0-9.+-]+:)/i,at=/:[0-9]*$/,st=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,it=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),ut=["'"].concat(it),ct=["%","/","?",";","#"].concat(ut),ht=["/","?","#"],lt=/^[+a-z0-9A-Z_-]{0,63}$/,ft=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,pt={javascript:!0,"javascript:":!0},dt={javascript:!0,"javascript:":!0},yt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function mt(t,e,r){if(t&&z(t)&&t instanceof nt)return t;var n=new nt;return n.parse(t,e,r),n}function bt(t,e,r,n){if(!W(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),a=-1!==o&&o<e.indexOf("#")?"?":"#",s=e.split(a);s[0]=s[0].replace(/\\/g,"/");var i=e=s.join(a);if(i=i.trim(),!n&&1===e.split("#").length){var u=st.exec(i);if(u)return t.path=i,t.href=i,t.pathname=u[1],u[2]?(t.search=u[2],t.query=r?et(t.search.substr(1)):t.search.substr(1)):r&&(t.search="",t.query={}),t}var c,h,l,f,p=ot.exec(i);if(p){var d=(p=p[0]).toLowerCase();t.protocol=d,i=i.substr(p.length)}if(n||p||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var y="//"===i.substr(0,2);!y||p&&dt[p]||(i=i.substr(2),t.slashes=!0)}if(!dt[p]&&(y||p&&!yt[p])){var m,b,v=-1;for(c=0;c<ht.length;c++)-1!==(h=i.indexOf(ht[c]))&&(-1===v||h<v)&&(v=h);for(-1!==(b=-1===v?i.lastIndexOf("@"):i.lastIndexOf("@",v))&&(m=i.slice(0,b),i=i.slice(b+1),t.auth=decodeURIComponent(m)),v=-1,c=0;c<ct.length;c++)-1!==(h=i.indexOf(ct[c]))&&(-1===v||h<v)&&(v=h);-1===v&&(v=i.length),t.host=i.slice(0,v),i=i.slice(v),gt(t),t.hostname=t.hostname||"";var g="["===t.hostname[0]&&"]"===t.hostname[t.hostname.length-1];if(!g){var w=t.hostname.split(/\./);for(c=0,l=w.length;c<l;c++){var _=w[c];if(_&&!_.match(lt)){for(var j="",A=0,O=_.length;A<O;A++)_.charCodeAt(A)>127?j+="x":j+=_[A];if(!j.match(lt)){var E=w.slice(0,c),x=w.slice(c+1),R=_.match(ft);R&&(E.push(R[1]),x.unshift(R[2])),x.length&&(i="/"+x.join(".")+i),t.hostname=E.join(".");break}}}}t.hostname.length>255?t.hostname="":t.hostname=t.hostname.toLowerCase(),g||(t.hostname=G(t.hostname)),f=t.port?":"+t.port:"";var U=t.hostname||"";t.host=U+f,t.href+=t.host,g&&(t.hostname=t.hostname.substr(1,t.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!pt[d])for(c=0,l=ut.length;c<l;c++){var S=ut[c];if(-1!==i.indexOf(S)){var T=encodeURIComponent(S);T===S&&(T=escape(S)),i=i.split(S).join(T)}}var L=i.indexOf("#");-1!==L&&(t.hash=i.substr(L),i=i.slice(0,L));var P=i.indexOf("?");if(-1!==P?(t.search=i.substr(P),t.query=i.substr(P+1),r&&(t.query=et(t.query)),i=i.slice(0,P)):r&&(t.search="",t.query={}),i&&(t.pathname=i),yt[d]&&t.hostname&&!t.pathname&&(t.pathname="/"),t.pathname||t.search){f=t.pathname||"";var I=t.search||"";t.path=f+I}return t.href=vt(t),t}function vt(t){var e=t.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var r,n,o,a,s=t.protocol||"",i=t.pathname||"",u=t.hash||"",c=!1,h="";t.host?c=e+t.host:t.hostname&&(c=e+(-1===t.hostname.indexOf(":")?t.hostname:"["+this.hostname+"]"),t.port&&(c+=":"+t.port)),t.query&&z(t.query)&&Object.keys(t.query).length&&(r=t.query,n=n||"&",o=o||"=",null===r&&(r=void 0),h="object"==typeof r?Y(tt(r),(function(t){var e=encodeURIComponent(Q(t))+o;return J(r[t])?Y(r[t],(function(t){return e+encodeURIComponent(Q(t))})).join(n):e+encodeURIComponent(Q(r[t]))})).join(n):a?encodeURIComponent(Q(a))+o+encodeURIComponent(Q(r)):"");var l=t.search||h&&"?"+h||"";return s&&":"!==s.substr(-1)&&(s+=":"),t.slashes||(!s||yt[s])&&!1!==c?(c="//"+(c||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):c||(c=""),u&&"#"!==u.charAt(0)&&(u="#"+u),l&&"?"!==l.charAt(0)&&(l="?"+l),s+c+(i=i.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(l=l.replace("#","%23"))+u}function gt(t){var e=t.host,r=at.exec(e);r&&(":"!==(r=r[0])&&(t.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(t.hostname=e)}nt.prototype.parse=function(t,e,r){return bt(this,t,e,r)},nt.prototype.format=function(){return vt(this)},nt.prototype.resolve=function(t){return this.resolveObject(mt(t,!1,!0)).format()},nt.prototype.resolveObject=function(t){if(W(t)){var e=new nt;e.parse(t,!1,!0),t=e}for(var r,n=new nt,o=Object.keys(this),a=0;a<o.length;a++){var s=o[a];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var i=Object.keys(t),u=0;u<i.length;u++){var c=i[u];"protocol"!==c&&(n[c]=t[c])}return yt[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!yt[t.protocol]){for(var h=Object.keys(t),l=0;l<h.length;l++){var f=h[l];n[f]=t[f]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||dt[t.protocol])n.pathname=t.pathname;else{for(r=(t.pathname||"").split("/");r.length&&!(t.host=r.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),n.pathname=r.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var p=n.pathname||"",d=n.search||"";n.path=p+d}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var y,m=n.pathname&&"/"===n.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),v=b||m||n.host&&t.pathname,g=v,w=n.pathname&&n.pathname.split("/")||[],_=n.protocol&&!yt[n.protocol];if(r=t.pathname&&t.pathname.split("/")||[],_&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===r[0]?r[0]=t.host:r.unshift(t.host)),t.host=null),v=v&&(""===r[0]||""===w[0])),b)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,w=r;else if(r.length)w||(w=[]),w.pop(),w=w.concat(r),n.search=t.search,n.query=t.query;else if(null!=t.search)return _&&(n.hostname=n.host=w.shift(),(y=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=y.shift(),n.host=n.hostname=y.shift())),n.search=t.search,n.query=t.query,K(n.pathname)&&K(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var j=w.slice(-1)[0],A=(n.host||t.host||w.length>1)&&("."===j||".."===j)||""===j,O=0,E=w.length;E>=0;E--)"."===(j=w[E])?w.splice(E,1):".."===j?(w.splice(E,1),O++):O&&(w.splice(E,1),O--);if(!v&&!g)for(;O--;O)w.unshift("..");!v||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),A&&"/"!==w.join("/").substr(-1)&&w.push("");var x=""===w[0]||w[0]&&"/"===w[0].charAt(0);return _&&(n.hostname=n.host=x?"":w.length?w.shift():"",(y=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=y.shift(),n.host=n.hostname=y.shift())),(v=v||n.host&&w.length)&&!x&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),K(n.pathname)&&K(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},nt.prototype.parseHost=function(){return gt(this)};var wt="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==wt&&wt,_t="URLSearchParams"in wt,jt="Symbol"in wt&&"iterator"in Symbol,At="FileReader"in wt&&"Blob"in wt&&function(){try{return new Blob,!0}catch(t){return!1}}(),Ot="FormData"in wt,Et="ArrayBuffer"in wt;if(Et)var xt=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Rt=ArrayBuffer.isView||function(t){return t&&xt.indexOf(Object.prototype.toString.call(t))>-1};function Ut(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function St(t){return"string"!=typeof t&&(t=String(t)),t}function Tt(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return jt&&(e[Symbol.iterator]=function(){return e}),e}function Lt(t){this.map={},t instanceof Lt?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function Pt(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function It(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function qt(t){var e=new FileReader,r=It(e);return e.readAsArrayBuffer(t),r}function Ct(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function Bt(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:At&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:Ot&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:_t&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():Et&&At&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=Ct(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Et&&(ArrayBuffer.prototype.isPrototypeOf(t)||Rt(t))?this._bodyArrayBuffer=Ct(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_t&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},At&&(this.blob=function(){var t=Pt(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=Pt(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(qt)}),this.text=function(){var t,e,r,n=Pt(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=It(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Ot&&(this.formData=function(){return this.text().then(Ht)}),this.json=function(){return this.text().then(JSON.parse)},this}Lt.prototype.append=function(t,e){t=Ut(t),e=St(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},Lt.prototype.delete=function(t){delete this.map[Ut(t)]},Lt.prototype.get=function(t){return t=Ut(t),this.has(t)?this.map[t]:null},Lt.prototype.has=function(t){return this.map.hasOwnProperty(Ut(t))},Lt.prototype.set=function(t,e){this.map[Ut(t)]=St(e)},Lt.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},Lt.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),Tt(t)},Lt.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),Tt(t)},Lt.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),Tt(t)},jt&&(Lt.prototype[Symbol.iterator]=Lt.prototype.entries);var Ft=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Nt(t,e){if(!(this instanceof Nt))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,o=(e=e||{}).body;if(t instanceof Nt){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new Lt(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new Lt(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),Ft.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var a=/([?&])_=[^&]*/;if(a.test(this.url))this.url=this.url.replace(a,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function Ht(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}})),e}function Dt(t,e){if(!(this instanceof Dt))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new Lt(e.headers),this.url=e.url||"",this._initBody(t)}Nt.prototype.clone=function(){return new Nt(this,{body:this._bodyInit})},Bt.call(Nt.prototype),Bt.call(Dt.prototype),Dt.prototype.clone=function(){return new Dt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Lt(this.headers),url:this.url})},Dt.error=function(){var t=new Dt(null,{status:0,statusText:""});return t.type="error",t};var $t=[301,302,303,307,308];Dt.redirect=function(t,e){if(-1===$t.indexOf(e))throw new RangeError("Invalid status code");return new Dt(null,{status:e,headers:{location:t}})};var kt=wt.DOMException;try{new kt}catch(t){(kt=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack}).prototype=Object.create(Error.prototype),kt.prototype.constructor=kt}function Mt(t,e){return new Promise((function(r,n){var o=new Nt(t,e);if(o.signal&&o.signal.aborted)return n(new kt("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new Lt,t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();e.append(n,o)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;setTimeout((function(){r(new Dt(o,n))}),0)},a.onerror=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},a.ontimeout=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},a.onabort=function(){setTimeout((function(){n(new kt("Aborted","AbortError"))}),0)},a.open(o.method,function(t){try{return""===t&&wt.location.href?wt.location.href:t}catch(e){return t}}(o.url),!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&(At?a.responseType="blob":Et&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(a.responseType="arraybuffer")),!e||"object"!=typeof e.headers||e.headers instanceof Lt?o.headers.forEach((function(t,e){a.setRequestHeader(e,t)})):Object.getOwnPropertyNames(e.headers).forEach((function(t){a.setRequestHeader(t,St(e.headers[t]))})),o.signal&&(o.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",s)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}Mt.polyfill=!0,wt.fetch||(wt.fetch=Mt,wt.Headers=Lt,wt.Request=Nt,wt.Response=Dt);var Xt,Vt=(Xt=Object.freeze({__proto__:null,Headers:Lt,Request:Nt,Response:Dt,get DOMException(){return kt},fetch:Mt}))&&Xt.default||Xt,Gt=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.m=t,r.c=e,r.p="",r(0)}([function(t,e,r){var n=r(1),o="function"==typeof importScripts;t.exports=n(o?self:window)},function(t,e,r){function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=[];function a(t){for(var e=arguments.length,r=Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];var s=o.reduce((function(t,e){return[e].concat(t)}),[]),i=Promise.resolve(r);return s.forEach((function(t){var e=t.request,r=t.requestError;(e||r)&&(i=i.then((function(t){return e.apply(void 0,n(t))}),r))})),i=i.then((function(e){return t.apply(void 0,n(e))})),s.forEach((function(t){var e=t.response,r=t.responseError;(e||r)&&(i=i.then(e,r))})),i}t.exports=function(t){if(!t.fetch)try{r(2)}catch(t){throw Error("No fetch avaibale. Unable to register fetch-intercept")}return t.fetch=function(t){return function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return a.apply(void 0,[t].concat(r))}}(t.fetch),{register:function(t){return o.push(t),function(){var e=o.indexOf(t);e>=0&&o.splice(e,1)}},clear:function(){o=[]}}}},function(t,e){t.exports=Vt}]);const Kt=t=>Promise.reject(t),Wt=Kt;var zt;Gt.register({request:(e,r={})=>{let s={...r};const i=new URLSearchParams(window.location.search);if(o(e)){const r=a(e);i.set(t,r)}return n(e)&&(s.headers=((e,r)=>{let n=e&&e.headers||{};if(n instanceof Headers){let t={};for(var o of e.headers.entries())t[o[0]]=o[1];n=t}let a=r&&r.get?r:new URLSearchParams("");const s=n[t]||a.get(t);if(s)if("global"===s){const{[t]:e,...r}=n;n=r}else n={...n,[t]:s};else n={...n,[t]:"us1"};return n})(s,i)),[e,s]},requestError:Kt,response:t=>t,responseError:Wt}),(zt=window).XMLHttpRequest&&(zt.XMLHttpRequest.prototype._send=zt.XMLHttpRequest.prototype.send,zt.XMLHttpRequest.prototype._open=zt.XMLHttpRequest.prototype.open,zt.XMLHttpRequest.prototype._setRequestHeader=zt.XMLHttpRequest.prototype.setRequestHeader,zt.XMLHttpRequest.prototype.open=function(t,e){return this._hasRegionalHeader=!1,this._hadGlobalHeader=!1,this._url=e,this._open(...arguments)},zt.XMLHttpRequest.prototype.setRequestHeader=function(e,r){if(e.toLowerCase()===t&&(this._hasRegionalHeader=!0),e.toLowerCase()!==t||"global"!==r.toLowerCase())return this._setRequestHeader(e,r);this._hadGlobalHeader=!0},zt.XMLHttpRequest.prototype.send=function(e){let r=new URLSearchParams(window.location.search).get(t);return o(this._url)&&(r=a(this._url)),this._hasRegionalHeader||this._hadGlobalHeader||"global"===(r||"").toLowerCase()||!n(this._url)||this.setRequestHeader(t,r||"us1"),this._send(e)});const Zt={init:()=>{window.TWILIO_NAV=(()=>{const t={};return{trigger:(e,...r)=>{t[e]?t[e].apply(null,r):console.warn("Method Not Registered",e,r)},add:(e,r)=>{t[e]=r},remove:e=>{delete t[e]}}})(),window.TWILIO_NAV.add("changeRoute",()=>{}),window.TWILIO_NAV.add("configureRoutes",()=>{}),window.TWILIO_NAV.add("addNavCompleteCallBacks",()=>{}),window.TWILIO_NAV.add("configureTemplateData",(({scope:t})=>e=>{let r={...P({scope:t,templateData:e})};if(!r.serviceSid)return!1;s({target:t.parent,type:"reduxAction",payload:r})})({scope:window})),history.pushState=I({scope:window,historyScope:history,type:"pushState"}),window.addEventListener("pushState",(function(t){const e=rt.parse(t.arguments[2]);i({target:window.parent,host:location.host,href:`${document.location.origin}${e.pathname?e.pathname:document.location.pathname}${e.hash||""}${e.search||""}`,currentFrameUrl:!0})})),history.replaceState=I({scope:window,historyScope:history,type:"replaceState"}),window.addEventListener("replaceState",(function(t){const e=rt.parse(t.arguments[2]);i({target:window.parent,host:location.host,href:`${document.location.origin}${e.pathname?e.pathname:document.location.pathname}${e.hash||""}${e.search||""}`,currentFrameUrl:!0})})),window.addEventListener("reloadPage",(function(){(({target:t})=>{s({target:t,type:"reloadPage"})})({target:window.parent})})),document.body.addEventListener("click",q),window.addEventListener("load",()=>{window.$?$(document).on("submit",t=>{B(t)}):document.body.addEventListener("submit",B)}),(t=>{const e=new URLSearchParams(t);return Boolean(e.get("frameReloaded"))})(window.location.search)&&i({target:window.parent,host:location.host,href:location.href,currentFrameUrl:!0})}};return Zt.init(),Zt}));
